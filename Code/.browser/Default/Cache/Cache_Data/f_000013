"use strict";(globalThis["webpackChunkinstaller"]=globalThis["webpackChunkinstaller"]||[]).push([[630],{8012:(e,t,l)=>{l.r(t),l.d(t,{default:()=>gt});var s=l(9835),n=l(6970);const i=e=>((0,s.dD)("data-v-ce183ab8"),e=e(),(0,s.Cn)(),e),a={class:"page"},o=i((()=>(0,s._)("br",null,null,-1))),d={class:"extensions-container"},r={class:"extensions-title"},c={class:"row"},u={class:"impacted-extensions-container"},g={key:0,class:"extensions-title"},p={key:1,class:"extensions-title"},h={key:0},m={key:1},k={class:"release-notes"},w={class:"release-notes"},x={key:1};function f(e,t,l,i,f,D){const b=(0,s.up)("UpdateMessage"),v=(0,s.up)("q-badge"),I=(0,s.up)("q-btn"),E=(0,s.up)("q-item-section"),S=(0,s.up)("q-item"),y=(0,s.up)("installation-row"),_=(0,s.up)("ExtensionsContainer"),C=(0,s.up)("ExtensionVersionSelector"),V=(0,s.up)("confirmation-dialog"),q=(0,s.up)("q-dialog"),K=(0,s.up)("expandable"),U=(0,s.up)("Tile"),W=(0,s.up)("SdkContainer"),Z=(0,s.up)("expandable-tile"),$=(0,s.up)("location-selector"),L=(0,s.up)("q-separator"),T=(0,s.up)("version-selector"),Q=(0,s.up)("q-space"),j=(0,s.up)("q-checkbox"),z=(0,s.up)("q-card"),A=(0,s.up)("q-card-section"),P=(0,s.up)("q-scroll-area"),N=(0,s.up)("PackageManagerLoadingAnimation"),R=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",a,[(0,s.Wm)(b,{msg:f.msg},null,8,["msg"]),!1===D.showBusy?((0,s.wg)(),(0,s.j4)(P,{key:0,id:"scrollArea",style:(0,n.j5)(D.getControlHeight),"onHook:mounted":D.onResize},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.filteredSdkCategories(e.sdkCategories,!1),(l=>((0,s.wg)(),(0,s.j4)(U,{key:l.id,icon:l.imageUrl,title:l.label,description:l.desc},(0,s.Nv)({"primary-action":(0,s.w5)((()=>[l.installable.length>0?((0,s.wg)(),(0,s.j4)(I,{key:0,"no-caps":"",flat:"",label:e.$t("InstallNew"),class:"button-secondary",onClick:e=>D.openInstallationDialog(l)},null,8,["label","onClick"])):(0,s.kq)("",!0)])),default:(0,s.w5)((()=>[!l.legacy&&l.installed.length>0?((0,s.wg)(),(0,s.j4)(K,{key:0,label:e.$t("Installations"),defaultExpanded:!0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.sortedInstalledSdkCategories(l.installed),(i=>((0,s.wg)(),(0,s.iD)("div",{key:i.id},[(0,s.Wm)(y,{prefix:e.$t("Location")+":",leftLabel:i.location,rightLabel:i.version,showBadge:!D.isLatestSdk(i,l.latest)&&!D.isP2Repository(l)},{"right-action":(0,s.w5)((()=>[])),default:(0,s.w5)((()=>[(0,s._)("div",null,[D.isP2Repository(l)?(0,s.wy)(((0,s.wg)(),(0,s.j4)(S,{key:0,clickable:"",onClick:e=>D.openReleaseNoteDialog(i)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("ReleaseNotes")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]]):(0,s.kq)("",!0),D.isLatestSdk(i,l.latest)||D.isP2Repository(l)?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.j4)(S,{key:1,clickable:"",onClick:e=>D.openVersionDialog(i,l,!0)},{default:(0,s.w5)((()=>[D.isLatestSdk(i,l.latest)?((0,s.wg)(),(0,s.j4)(E,{key:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("Update")),1)])),_:1})):((0,s.wg)(),(0,s.j4)(E,{key:1,style:{color:"var(--q-negative)"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("Update")),1)])),_:1}))])),_:2},1032,["onClick"])),[[R]]),D.isP2Repository(l)?(0,s.kq)("",!0):(0,s.wy)(((0,s.wg)(),(0,s.j4)(S,{key:2,clickable:"",onClick:e=>D.openVersionDialog(i,l)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("ChangeVersionLabel")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]]),(0,s.wy)(((0,s.wg)(),(0,s.j4)(S,{clickable:"",onClick:e=>D.confirmUnInstall(i,l.id)},{default:(0,s.w5)((()=>[(0,s.Wm)(E,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("Uninstall")),1)])),_:1})])),_:2},1032,["onClick"])),[[R]])])])),_:2},1032,["prefix","leftLabel","rightLabel","showBadge"]),D.showInstallableExtensions(i)?((0,s.wg)(),(0,s.j4)(_,{key:0,extensionsList:D.getInstallableExtensions(i),currentSDK:i,showTopTxt:!1,onOpenExtensionInstallDialog:D.confirmExtInstallDialog,onOpenExtensionVersionDialog:D.openExtVersionDialog,onConfirmExtensionUninstall:D.confirmExtUnInstall},null,8,["extensionsList","currentSDK","onOpenExtensionInstallDialog","onOpenExtensionVersionDialog","onConfirmExtensionUninstall"])):(0,s.kq)("",!0),f.extensionVersionDialog?((0,s.wg)(),(0,s.j4)(q,{key:1,modelValue:f.extensionVersionDialog,"onUpdate:modelValue":t[1]||(t[1]=e=>f.extensionVersionDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{class:"install-dialog",onConfirmClicked:t[0]||(t[0]=e=>D.changeExtensionVersion(f.sdkForExtensionChangeVersion.id,f.selectedInstalledExtension.id,f.selectedExtensionVersion)),title:e.$t("ChangeVersionTitle")+f.selectedInstalledExtension.label,confirmDisabled:f.selectedInstalledExtension.installedVersion===f.selectedExtensionVersion},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{onSelected:D.setSelectedExtensionVersion,options:f.selectedInstalledExtension.installableVersions,selected:f.selectedExtensionVersion,installedVersion:f.selectedInstalledExtension.installedVersion},null,8,["onSelected","options","selected","installedVersion"])])),_:1},8,["title","confirmDisabled"])])),_:1},8,["modelValue"])):(0,s.kq)("",!0)])))),128))])),_:2},1032,["label"])):(0,s.kq)("",!0)])),_:2},[0===l.installed.length||l.latest.installed?void 0:{name:"title",fn:(0,s.w5)((()=>[(0,s.Wm)(v,{color:"negative",align:"top"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("New")),1)])),_:1})])),key:"0"}]),1032,["icon","title","description"])))),128)),(0,s.Wm)(Z,{label:e.$t("LegacySdks"),defaultExpanded:!1},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.filteredSdkCategories(e.sdkCategories,!0),(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[o,(0,s.Wm)(W,{sdkCategory:e,expanded:!1},null,8,["sdkCategory"])])))),128))])),_:1},8,["label"]),(0,s.Wm)(q,{modelValue:f.installationDialog,"onUpdate:modelValue":t[4]||(t[4]=e=>f.installationDialog=e)},{default:(0,s.w5)((()=>[f.selectedSDK?((0,s.wg)(),(0,s.j4)(V,{key:0,class:"install-dialog",onConfirmClicked:t[3]||(t[3]=t=>D.installNewSDK(f.selectedSDK.id,f.selectedSDK.version,e.verifyLocation.location)),title:e.$t("InstallNewTitle")+f.selectedSDK.label,confirmDisabled:!e.verifyLocation.isValid},{default:(0,s.w5)((()=>["git"===f.selectedSDKCategory.repositoryType?((0,s.wg)(),(0,s.j4)($,{key:0,defaultLocation:f.selectedSDK.preferredLocation},null,8,["defaultLocation"])):(0,s.kq)("",!0),(0,s.Wm)(L),(0,s.Wm)(T,{onSelected:D.setSelectedSDKAndExtensions,options:f.selectedSDKCategory.installable,selected:f.selectedSDK,installedSdks:f.selectedSDKCategory.installed},null,8,["onSelected","options","selected","installedSdks"]),(0,s.Wm)(Q),(0,s._)("div",d,[(0,s._)("p",r,[(0,s._)("strong",null,(0,n.zw)(e.$t("Extensions")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(f.selectedSDK.extensions,(e=>((0,s.wg)(),(0,s.j4)(z,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,s.w5)((()=>[(0,s._)("div",c,[(0,s.Wm)(j,{color:"primary",modelValue:f.selectedExtensionsToInstall,"onUpdate:modelValue":t[2]||(t[2]=e=>f.selectedExtensionsToInstall=e),id:e.id,val:e.id,label:D.getNewInstallableExtensionLabel(e)},null,8,["modelValue","id","val","label"]),(0,s.Wm)(Q),(0,s.kq)("",!0)])])),_:2},1024)))),128))])])),_:1},8,["title","confirmDisabled"])):(0,s.kq)("",!0)])),_:1},8,["modelValue"]),f.versionDialog?((0,s.wg)(),(0,s.j4)(q,{key:0,modelValue:f.versionDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>f.versionDialog=e),persistent:""},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{class:"install-dialog",onConfirmClicked:t[7]||(t[7]=e=>D.changeSDKVersion(f.installedSDK.id,f.selectedSDK.version)),title:e.$t("ChangeVersionTitle")+f.installedSDK.label,confirmDisabled:f.installedSDK.version===f.selectedSDK.version},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onSelected:D.setSelectedSDKAndImpactedExtensions,isDirty:D.setSelectedSDKAndImpactedExtensions.dirty&&f.installedSDK.version!==f.selectedSDK.version,options:f.selectedSDKCategory.installable,selected:f.selectedSDK,installedSdks:f.selectedSDKCategory.installed},null,8,["onSelected","isDirty","options","selected","installedSdks"]),(0,s._)("div",u,[(0,s._)("div",null,[D.selectedSdkIsInstalled()?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("p",g,[(0,s._)("strong",null,(0,n.zw)(e.$t("ImpactedExtensions")),1)])),D.selectedSdkIsInstalled()?((0,s.wg)(),(0,s.iD)("p",p,[(0,s._)("strong",null,(0,n.zw)(e.$t("Extensions")),1)])):(0,s.kq)("",!0)]),D.selectedSdkIsInstalled()?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",h,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.getInstallableImpactedExtensions,(e=>((0,s.wg)(),(0,s.j4)(z,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{color:"primary",modelValue:f.selectedExtensionsToInstall,"onUpdate:modelValue":[t[5]||(t[5]=e=>f.selectedExtensionsToInstall=e),t[6]||(t[6]=e=>{D.onImpactedExtensionSelected(e)})],id:e.id,val:e.id,label:e.impact,disable:f.disableImpactedExtensions},null,8,["modelValue","id","val","label","disable"]),(0,s.Wm)(Q)])),_:2},1024)))),128)),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.getInstalledImpactedExtensions,(e=>((0,s.wg)(),(0,s.j4)(z,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,s.w5)((()=>[(0,s._)("div",null,(0,n.zw)(e.impact),1)])),_:2},1024)))),128))])),D.selectedSdkIsInstalled()?((0,s.wg)(),(0,s.iD)("div",m,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(D.getInstalledExtensionsForInstalledSdk,(e=>((0,s.wg)(),(0,s.j4)(z,{key:e.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,s.w5)((()=>[(0,s._)("div",null,(0,n.zw)(e.label)+" - "+(0,n.zw)(e.installedVersion),1)])),_:2},1024)))),128))])):(0,s.kq)("",!0)])])),_:1},8,["title","confirmDisabled"])])),_:1},8,["modelValue"])):(0,s.kq)("",!0),f.releaseNoteDialog?((0,s.wg)(),(0,s.j4)(q,{key:1,modelValue:f.releaseNoteDialog,"onUpdate:modelValue":t[9]||(t[9]=e=>f.releaseNoteDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{title:e.$t("ReleaseNotesFor")+f.installedSDK.label,confirmLabel:"Ok",cancelButton:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s._)("div",k,(0,n.zw)(f.installedSDK.releaseNote),1)])),_:1})])),_:1},8,["title"])])),_:1},8,["modelValue"])):(0,s.kq)("",!0),f.extensionReleaseNoteDialog?((0,s.wg)(),(0,s.j4)(q,{key:2,modelValue:f.extensionReleaseNoteDialog,"onUpdate:modelValue":t[10]||(t[10]=e=>f.extensionReleaseNoteDialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(V,{title:e.$t("ReleaseNotesFor")+this.selectedExtension.label,confirmLabel:"Ok",cancelButton:!1},{default:(0,s.w5)((()=>[(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s._)("div",w,(0,n.zw)(this.selectedExtension.desc),1)])),_:1})])),_:1},8,["title"])])),_:1},8,["modelValue"])):(0,s.kq)("",!0)])),_:1},8,["style","onHook:mounted"])):(0,s.kq)("",!0),!0===D.showBusy?((0,s.wg)(),(0,s.iD)("div",x,[(0,s.Wm)(N)])):(0,s.kq)("",!0)])}l(9665);var D=l(3100),b=l(4853),v=l(4480),I=l(1957);const E=e=>((0,s.dD)("data-v-d8e9810a"),e=e(),(0,s.Cn)(),e),S={class:"row items-center col"},y={class:"label-style label-pos"},_={class:"right col"},C={class:"row items-center justify-end"},V={key:0},q={class:"pkg-col"},K=E((()=>(0,s._)("br",null,null,-1)));function U(e,t,l,i,a,o){const d=(0,s.up)("q-badge"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-icon"),u=(0,s.up)("Package"),g=(0,s.up)("q-slide-transition");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s._)("div",null,[(0,s._)("div",{class:(0,n.C_)(["card",{expandedCard:a.headerExpanded&&(l.sdkCategory.installable.length>0||l.sdkCategory.installed.length>0)}])},[(0,s._)("div",{class:"row items-center sdkGrantedHeaderTile",onClick:t[1]||(t[1]=e=>a.headerExpanded=!a.headerExpanded)},[(0,s._)("div",S,[(0,s._)("div",y,(0,n.zw)(l.sdkCategory.label),1),o.updateableCnt(l.sdkCategory.installed)>0?((0,s.wg)(),(0,s.j4)(d,{key:0,class:"self-start",color:"negative",align:"top"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(o.updateableCnt(l.sdkCategory.installed)),1)])),_:1})):(0,s.kq)("",!0),(0,s._)("div",_,[(0,s._)("div",C,[(0,s.Wm)(r,{class:"mass-install",ref:"installButton",onClickCapture:t[0]||(t[0]=(0,I.iM)((e=>o.installOrUninstallAll(l.sdkCategory)),["stop"])),id:l.sdkCategory.id,"no-caps":"",label:o.installButtonLabel(l.sdkCategory)},null,8,["id","label"]),(0,s.Wm)(c,{class:(0,n.C_)(["iconChevronClass",{invisible:l.sdkCategory.installable.length<=0&&l.sdkCategory.installed.length<=0}]),name:a.headerExpanded?e.mdiChevronDown:e.mdiChevronUp},null,8,["class","name"])])])])]),l.sdkCategory.installable.length>0||l.sdkCategory.installed.length>0?((0,s.wg)(),(0,s.iD)("div",V,[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",null,[(0,s._)("div",q,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.allPackages(),(e=>((0,s.wg)(),(0,s.iD)("div",{key:e.id},[(0,s.Wm)(u,{studioPackage:e,categories:a.categories},null,8,["studioPackage","categories"]),K])))),128))])],512),[[I.F8,a.headerExpanded]])])),_:1})])):(0,s.kq)("",!0)],2)])])}var W=l(2670),Z=l(2877),$=l(6412);const L={name:"SdkContainer",mixins:[$.Z],props:["sdkCategory","expanded"],data(){return{categories:["sdk","stack"],headerExpanded:this.expanded}},created(){this.mdiChevronDown=W.CW,this.mdiChevronUp=W.Waq},methods:{installOrUninstallAll(e){"Install All"===this.$refs.installButton.label?this.doInstallAll(e):this.doUninstallAll(e)},doInstallAll(e){let t=[];e.installable.forEach((e=>{t.push(e.id)})),this.installMultiplePackages(t,this.categories)},doUninstallAll(e){let t={packages:[]};e.installed.forEach((e=>{t.packages.push({id:e.id,version:e.version,location:""})})),this.$store.dispatch("install/deleteSDK",t)},installButtonLabel(e){return 0!=e.installable.length?"Install All":"Uninstall All"},sdkPackageToClasicPackage(e,t){return{...e,hasIncludedPkgIds:!1,isInstalled:t,installEnabled:!0,installVisible:this.installVisible(e),installState:this.calcInstallState(e,t),releaseNotes:e.releaseNote,featurePackageId:e.id}},calcInstallState(e,t){return t?"updateable"in e&&e.updateable?"Update":"Uninstall":"Install"},installVisible(e){return!("dependency"in e)||!e.dependency},allPackages(){let e=this.sdkCategory.installed.map((e=>this.sdkPackageToClasicPackage(e,!0))).concat(this.sdkCategory.installable.map((e=>this.sdkPackageToClasicPackage(e,!1))));return e},updateableCnt(e){let t=0;return e&&e.length>0&&e.forEach((e=>{e.updateable&&t++})),t}},components:{Package:Z.Z}};var T=l(1639),Q=l(990),j=l(8879),z=l(2857),A=l(9003),P=l(9984),N=l.n(P);const R=(0,T.Z)(L,[["render",U],["__scopeId","data-v-d8e9810a"]]),B=R;N()(L,"components",{QBadge:Q.Z,QBtn:j.Z,QIcon:z.Z,QSlideTransition:A.Z});var H=l(5358);const M={class:"expandable-container"},O={class:"row"};function F(e,t,l,i,a,o){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-slide-transition");return(0,s.wg)(),(0,s.iD)("div",M,[(0,s._)("div",O,[(0,s._)("div",{class:"exapandable-header",onClick:t[0]||(t[0]=e=>a.isExpanded=!a.isExpanded)},[(0,s.Wm)(d,{name:a.isExpanded?e.mdiMenuDown:e.mdiMenuRight},null,8,["name"]),(0,s._)("span",null,[(0,s._)("strong",null,(0,n.zw)(l.label),1)])])]),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",null,[(0,s.WI)(e.$slots,"default",{},void 0,!0)],512),[[I.F8,a.isExpanded]])])),_:3})])}const Y={name:"Expandable",props:["label","defaultExpanded"],components:{},data(){return{isExpanded:!!this.defaultExpanded}},created(){this.mdiMenuRight=W.ozb,this.mdiMenuDown=W.iW9}},G=(0,T.Z)(Y,[["render",F],["__scopeId","data-v-50d3e247"]]),X=G;N()(Y,"components",{QIcon:z.Z,QSlideTransition:A.Z});const J=e=>((0,s.dD)("data-v-36a777b7"),e=e(),(0,s.Cn)(),e),ee={class:"expandable-tile"},te={class:"row"},le={class:"label-style"},se={class:"right"},ne={class:"row items-center justify-end"},ie=J((()=>(0,s._)("br",null,null,-1)));function ae(e,t,l,i,a,o){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-slide-transition"),c=(0,s.up)("Tile");return(0,s.wg)(),(0,s.j4)(c,null,{default:(0,s.w5)((()=>[(0,s._)("div",ee,[(0,s._)("div",te,[(0,s._)("div",{class:"expandable-header",onClick:t[0]||(t[0]=e=>a.isExpanded=!a.isExpanded)},[(0,s._)("div",le,(0,n.zw)(l.label),1),(0,s._)("div",se,[(0,s._)("div",ne,[(0,s.Wm)(d,{class:"iconChevronClass",name:a.isExpanded?e.mdiChevronDown:e.mdiChevronUp},null,8,["name"])])]),ie])]),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",null,[(0,s.WI)(e.$slots,"default",{},void 0,!0)],512),[[I.F8,a.isExpanded]])])),_:3})])])),_:3})}const oe={props:["label","defaultExpanded"],components:{Tile:v.Z},data(){return{isExpanded:!!this.defaultExpanded}},created(){this.mdiChevronDown=W.CW,this.mdiChevronUp=W.Waq}},de=(0,T.Z)(oe,[["render",ae],["__scopeId","data-v-36a777b7"]]),re=de;N()(oe,"components",{QIcon:z.Z,QSlideTransition:A.Z});const ce={class:"row_container"};function ue(e,t,l,i,a,o){const d=(0,s.up)("q-badge"),r=(0,s.up)("q-list"),c=(0,s.up)("q-menu"),u=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)("div",ce,[(0,s._)("div",null,[(0,s.Uk)((0,n.zw)(l.prefix)+" ",1),(0,s._)("span",null,(0,n.zw)(l.leftLabel),1)]),(0,s._)("div",null,[(0,s._)("span",null,(0,n.zw)(l.rightLabel),1),(0,s.WI)(e.$slots,"right-action",{},void 0,!0),e.$slots.default?((0,s.wg)(),(0,s.j4)(u,{key:0,icon:a.dotsIcon,class:"dotsButton",flat:"",padding:"sm"},{default:(0,s.w5)((()=>[l.showBadge?((0,s.wg)(),(0,s.j4)(d,{key:0,color:"negative",rounded:"",floating:""})):(0,s.kq)("",!0),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(r,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["icon"])):(0,s.kq)("",!0)])])}const ge={props:["prefix","leftLabel","rightLabel","showBadge"],data(){return{dotsIcon:W.XMI}}};var pe=l(6362),he=l(3246);const me=(0,T.Z)(ge,[["render",ue],["__scopeId","data-v-a70f2bee"]]),ke=me;N()(ge,"components",{QBtn:j.Z,QBadge:Q.Z,QMenu:pe.Z,QList:he.Z});var we=l(3571);const xe=e=>((0,s.dD)("data-v-79468cda"),e=e(),(0,s.Cn)(),e),fe={key:0,class:"q-ml-sm info"},De=xe((()=>(0,s._)("strong",null,"Warning! Local changes to your installation will be discarded.",-1))),be=xe((()=>(0,s._)("div",{class:"q-ml-sm"},[(0,s._)("strong",null,"Versions:")],-1))),ve=xe((()=>(0,s._)("div",{class:"q-ml-sm"},[(0,s._)("strong",null,"Release Notes:")],-1))),Ie={class:"format"};function Ee(e,t,l,i,a,o){const d=(0,s.up)("q-icon"),r=(0,s.up)("q-select"),c=(0,s.up)("q-card-section"),u=(0,s.up)("q-scroll-area");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[l.isDirty?((0,s.wg)(),(0,s.iD)("div",fe,[(0,s.Wm)(d,{name:a.infoIcon},null,8,["name"]),De])):(0,s.kq)("",!0),be,(0,s.Wm)(r,{id:"select-version",outlined:"",dense:"","options-dense":"",modelValue:a.model,"onUpdate:modelValue":[t[0]||(t[0]=e=>a.model=e),o.selectVersion],options:l.options,"option-value":e=>e.id,"option-label":e=>o.getVersionAndInstalledText(e)},null,8,["modelValue","options","option-value","option-label","onUpdate:modelValue"])])),_:1}),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[ve,o.showReleaseNotes(l.selected)?((0,s.wg)(),(0,s.j4)(u,{key:0,class:"releaseNotesArea"},{default:(0,s.w5)((()=>[(0,s._)("div",Ie,(0,n.zw)(l.selected.releaseNote),1)])),_:1})):(0,s.kq)("",!0)])),_:1})])}const Se={props:["options","selected","isDirty","installedSdks"],data(){return{model:this.selected,closeIcon:W.r5M,infoIcon:W._gM}},methods:{selectVersion(e){this.$emit("selected",e)},showReleaseNotes(e){return!(!e.releaseNote||""===e.releaseNote)},getVersionAndInstalledText(e){let t=this.installedSdks.find((t=>t.version===e.version));return void 0==t?e.version:e.version+" (installed)"}}};var ye=l(3190),_e=l(1362),Ce=l(6663);const Ve=(0,T.Z)(Se,[["render",Ee],["__scopeId","data-v-79468cda"]]),qe=Ve;N()(Se,"components",{QCardSection:ye.Z,QIcon:z.Z,QSelect:_e.Z,QScrollArea:Ce.Z});const Ke=e=>((0,s.dD)("data-v-e9030516"),e=e(),(0,s.Cn)(),e),Ue={key:0,class:"q-ml-sm info"},We=Ke((()=>(0,s._)("strong",null,"Warning! Local changes to your installation will be discarded.",-1))),Ze=Ke((()=>(0,s._)("div",{class:"q-ml-sm"},[(0,s._)("strong",null,"Versions:")],-1)));function $e(e,t,l,n,i,a){const o=(0,s.up)("q-icon"),d=(0,s.up)("q-select"),r=(0,s.up)("q-card-section");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[l.isDirty?((0,s.wg)(),(0,s.iD)("div",Ue,[(0,s.Wm)(o,{name:i.infoIcon},null,8,["name"]),We])):(0,s.kq)("",!0),Ze,(0,s.Wm)(d,{id:"select-version",outlined:"",dense:"","options-dense":"",modelValue:i.model,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.model=e),a.selectVersion],options:l.options,"option-value":e=>e,"option-label":e=>a.getVersionAndInstalledText(e)},null,8,["modelValue","options","option-value","option-label","onUpdate:modelValue"])])),_:1}),(0,s.kq)("",!0)])}const Le={props:["options","selected","isDirty","installedVersion"],data(){return{model:this.selected,closeIcon:W.r5M,infoIcon:W._gM}},methods:{selectVersion(e){console.log("Inside VersionSelector#selectVersion getting ready to emit @selected"),this.$emit("selected",e)},getVersionAndInstalledText(e){return e!==this.installedVersion?e:e+" (installed)"}}},Te=(0,T.Z)(Le,[["render",$e],["__scopeId","data-v-e9030516"]]),Qe=Te;N()(Le,"components",{QCardSection:ye.Z,QIcon:z.Z,QSelect:_e.Z});var je=l(7920),ze=l(2031);const Ae={class:"extensions-container"},Pe={class:"extensions-title"},Ne={key:0,class:"q-ml-sm installed-color"},Re={key:1,class:"q-ml-sm available-color"},Be={class:"row"},He={class:"q-ml-sm extension-label"};function Me(e,t,l,i,a,o){const d=(0,s.up)("q-space"),r=(0,s.up)("q-btn"),c=(0,s.up)("q-item-section"),u=(0,s.up)("q-item"),g=(0,s.up)("ActionDots"),p=(0,s.up)("q-card"),h=(0,s.Q2)("close-popup");return(0,s.wg)(),(0,s.iD)("div",Ae,[(0,s._)("p",Pe,[(0,s._)("strong",null,(0,n.zw)(e.$t("Extensions")),1)]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.extensionsList,(t=>((0,s.wg)(),(0,s.iD)("div",{key:t.id},[((0,s.wg)(),(0,s.j4)(p,{key:t.id,class:"q-my-md q-lg extension-card",bordered:"",width:"auto"},{default:(0,s.w5)((()=>[l.showTopTxt&&o.extensionIsInstalled(t)?((0,s.wg)(),(0,s.iD)("div",Ne,[(0,s._)("strong",null,(0,n.zw)(e.$t("Installed"))+":",1)])):(0,s.kq)("",!0),l.showTopTxt&&!o.extensionIsInstalled(t)?((0,s.wg)(),(0,s.iD)("div",Re,[(0,s._)("strong",null,(0,n.zw)(e.$t("Available"))+":",1)])):(0,s.kq)("",!0),(0,s._)("div",Be,[(0,s._)("div",He,[(0,s._)("strong",null,(0,n.zw)(o.getExtensionLabel(t)),1)]),(0,s.Wm)(d),o.extensionIsInstalled(t)?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(r,{key:0,class:"button-secondary button-pos","no-caps":"",flat:"",label:e.$t("Install"),onClick:e=>o.openExtensionInstallDialog(t)},null,8,["label","onClick"])),o.extensionIsInstalled(t)?((0,s.wg)(),(0,s.j4)(g,{key:1,class:"button-pos",showBadge:o.isUpdateAvailable(t)},{"right-action":(0,s.w5)((()=>[])),default:(0,s.w5)((()=>[(0,s._)("div",null,[o.isUpdateAvailable(t)?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:0,clickable:"",onClick:e=>o.openExtensionVersionDialog(t,!0)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{style:{color:"var(--q-negative)"}},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("Update")),1)])),_:1})])),_:2},1032,["onClick"])),[[h]]):(0,s.kq)("",!0),o.showChangeVersion(t)?(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{key:1,clickable:"",onClick:e=>o.openExtensionVersionDialog(t)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("ChangeVersionLabel")),1)])),_:1})])),_:2},1032,["onClick"])),[[h]]):(0,s.kq)("",!0),(0,s.wy)(((0,s.wg)(),(0,s.j4)(u,{clickable:"",onClick:e=>o.confirmExtensionUnInstall(t)},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(e.$t("Uninstall")),1)])),_:1})])),_:2},1032,["onClick"])),[[h]])])])),_:2},1032,["showBadge"])):(0,s.kq)("",!0)])])),_:2},1024))])))),128))])}const Oe={class:"row_container"};function Fe(e,t,l,n,i,a){const o=(0,s.up)("q-badge"),d=(0,s.up)("q-list"),r=(0,s.up)("q-menu"),c=(0,s.up)("q-btn");return(0,s.wg)(),(0,s.iD)("div",Oe,[(0,s.WI)(e.$slots,"right-action",{},void 0,!0),e.$slots.default?((0,s.wg)(),(0,s.j4)(c,{key:0,icon:i.dotsIcon,class:"dotsButton",flat:"",padding:"sm"},{default:(0,s.w5)((()=>[l.showBadge?((0,s.wg)(),(0,s.j4)(o,{key:0,color:"negative",rounded:"",floating:""})):(0,s.kq)("",!0),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.Wm)(d,{style:{"min-width":"100px"}},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})])),_:3},8,["icon"])):(0,s.kq)("",!0)])}const Ye={props:["showBadge"],data(){return{dotsIcon:W.XMI}}},Ge=(0,T.Z)(Ye,[["render",Fe],["__scopeId","data-v-7f1e1c7a"]]),Xe=Ge;N()(Ye,"components",{QBtn:j.Z,QBadge:Q.Z,QMenu:pe.Z,QList:he.Z});const Je={props:["extensionsList","currentSDK","showTopTxt"],components:{ActionDots:Xe},data(){return{}},methods:{extensionIsInstalled(e){return""!=e.installedVersion},showChangeVersion(e){return e.installableVersions.length>1&&this.extensionIsInstalled(e)},getExtensionLabel(e){let t=e.label;return!this.extensionIsInstalled(e)&&e.installableVersions.length>=1?t+=" - "+e.installableVersions[0]:t+=" - "+e.installedVersion,t},openExtensionInstallDialog(e){this.$emit("openExtensionInstallDialog",e,this.currentSDK)},openExtensionVersionDialog(e,t=!1){this.$emit("openExtensionVersionDialog",e,this.currentSDK,t)},confirmExtensionUnInstall(e){this.$emit("confirmExtensionUninstall",e,this.currentSDK)},isUpdateAvailable(e){return!0===e.updateAvailable}}};var et=l(4458),tt=l(136),lt=l(490),st=l(1233),nt=l(2146);const it=(0,T.Z)(Je,[["render",Me],["__scopeId","data-v-6b370e92"]]),at=it;N()(Je,"components",{QCard:et.Z,QSpace:tt.Z,QBtn:j.Z,QItem:lt.Z,QItemSection:st.Z}),N()(Je,"directives",{ClosePopup:nt.Z});const ot={name:"PageSdk",components:{UpdateMessage:b.Z,VersionSelector:qe,Tile:v.Z,SdkContainer:B,Expandable:X,ExpandableTile:re,InstallationRow:ke,ConfirmationDialog:je.Z,PackageManagerLoadingAnimation:we.Z,LocationSelector:ze.Z,ExtensionsContainer:at,ExtensionVersionSelector:Qe},data(){return{loading:!0,refreshing:!1,installationDialog:!1,versionDialog:!1,msg:"SDKs",scrollHeight:"100%",currentCategory:null,installedSDK:null,selectedSDK:null,selectedSDKCategory:null,download:W.OGU,releaseNoteDialog:!1,extensionReleaseNoteDialog:!1,extensionVersionDialog:!1,selectedExtensionVersion:null,sdkForExtensionChangeVersion:null,selectedInstalledExtension:null,selectedExtension:null,selectedExtensionsToInstall:[],disableImpactedExtensions:!0}},mixins:[$.Z],created(){window.addEventListener("resize",this.onResize),this.getPackages()},watch:{stateRefreshing:function(){0!==this.$store.getters["notifications/refreshing"]?this.refreshing=!0:this.refreshing=!1},stateUpdated:function(){this.getPackages()},loading:{handler(e){this.loading||this.onResize()},flush:"post"}},computed:{...(0,D.rn)({sdkCategories:e=>e.sdkPackages.sdkCategories,stateUpdated:e=>e.notifications.stateUpdated,stateRefreshing:e=>e.notifications.stateRefreshing,verifyLocation:e=>e.install.verifyLocation,impactedExtensions:e=>e.sdkPackages.impactedExtensions}),getControlHeight(){return"height: "+this.scrollHeight},showBusy(){return this.refreshing||this.loading},getInstallableImpactedExtensions(){let e=[];for(const t of this.impactedExtensions)t.install&&e.push(t);return e.slice().sort(((e,t)=>e.impact>t.impact?1:-1))},getInstalledImpactedExtensions(){let e=[];for(const t of this.impactedExtensions)t.install||e.push(t);return e.slice().sort(((e,t)=>e.impact>t.impact?1:-1))},getInstalledExtensionsForInstalledSdk(){if(!this.installedSDK||!this.installedSDK.extensions)return[];let e=[];for(const t of this.installedSDK.extensions)""!=t.installedVersion&&e.push(t);return e.slice().sort(((e,t)=>e.label>t.label?1:-1))}},unmounted(){window.removeEventListener("resize",this.onResize)},methods:{filteredSdkCategories(e,t){return e?e.filter((e=>e.legacy==t)):[]},sortedInstalledSdkCategories(e){return e.slice().sort(((e,t)=>t.version>e.version?1:-1))},isLatestSdk(e,t){return e.version===t.version},isP2Repository(e){return"p2"==e.repositoryType},selectedSdkIsInstalled(){return this.installedSDK.version==this.selectedSDK.version},installNewSDK(e,t,l){this.postInstallSDK(e,t,l,this.selectedExtensionToInstall)},changeSDKVersion(e,t){this.postInstallSDK(e,t,null,this.selectedExtensionsToInstall)},postInstallSDK(e,t,l){this.installSdkPackage(e,t,l,this.selectedExtensionsToInstall)},openInstallationDialog(e){this.selectedSDK=e.installable[0],this.selectedSDKCategory=e,this.installationDialog=!0,this.selectAllExtensionsForSDK(this.selectedSDK)},async openVersionDialog(e,t,l=!1){this.selectedSDK=l?t.latest:e,this.installedSDK=e,this.selectedSDKCategory=t,this.versionDialog=!0,this.getImpactedExtensions(e.id,this.selectedSDK.version)},openReleaseNoteDialog(e){this.releaseNoteDialog=!0,this.installedSDK=e},openExtensionReleaseNoteDialog(e){this.extensionReleaseNoteDialog=!0,this.selectedExtension=e},getPackages(){this.loading=!0;var e=this.$store.dispatch("sdkPackages/getSdks");e.then(this.turnLoadingOff,this.turnLoadingOff)},setSelectedSDKAndExtensions(e){this.selectedSDK=e,null!=this.selectedSDK.extensions&&this.selectAllExtensionsForSDK(this.selectedSDK)},async setSelectedSDKAndImpactedExtensions(e){this.selectedSDK=e,this.getImpactedExtensions(this.installedSDK.id,this.selectedSDK.version)},selectAllExtensionsForSDK(e){this.selectedExtensionsToInstall=[],e.extensions&&e.extensions.forEach((e=>{this.selectedExtensionsToInstall.push(e.id)}))},selectAllInstallableImpactedExtensions(){this.selectedExtensionsToInstall=[],this.getInstallableImpactedExtensions.forEach((e=>{this.selectedExtensionsToInstall.push(e.id)}))},async getImpactedExtensions(e,t){this.disableImpactedExtensions=!0;let l=[e,t];await this.$store.dispatch("sdkPackages/getImpactedExtensions",l),this.selectAllInstallableImpactedExtensions(),this.disableImpactedExtensions=!1},turnLoadingOff(){this.loading=!1},getInstallableExtensions(e){let t=[];if(!e.extensions)return t;for(const l of e.extensions)l.installableVersions.length>0&&t.push(l);return t.slice().sort(((e,t)=>e.label>t.label?1:-1))},showInstallableExtensions(e){return this.getInstallableExtensions(e).length>0},onImpactedExtensionSelected(e){this.selectedExtensionsToInstall=e},getNewInstallableExtensionLabel(e){return e.label+" - "+e.version},confirmUpdate(e,t){var l=this.$t("ConfirmUpdateStart")+e.label+this.$t("ConfirmUpdateEnd");this.$q.dialog({title:this.$t("UpdatePackage")+t.version,message:l,cancel:!0,persistent:!0}).onOk((()=>{this.changeSDKVersion(e.id,t.version)}))},confirmUnInstall(e){var t=this.$t("ConfirmUninstallStart")+e.label+this.$t("ConfirmUninstallEnd");this.$q.dialog({title:this.$t("UninstallPackage"),message:t,cancel:!0,persistent:!0}).onOk((()=>{let t={packages:[{id:e.id}]};this.$store.dispatch("install/deleteSDK",t)}))},confirmExtInstallDialog(e,t){let l=e.installableVersions[0];var s=this.$t("ConfirmInstallStart")+e.label+" - "+l+this.$t("ConfirmInstallEnd");this.$q.dialog({title:this.$t("InstallExtension"),message:s,cancel:!0,persistent:!0}).onOk((()=>{this.installExtension(t.id,e.id,l)}))},openExtVersionDialog(e,t,l=!1){this.selectedInstalledExtension=e,this.selectedExtensionVersion=l?e.latestVersion:e.installedVersion,this.sdkForExtensionChangeVersion=t,this.extensionVersionDialog=!0},setSelectedExtensionVersion(e){this.selectedExtensionVersion=e},changeExtensionVersion(e,t,l){this.installExtension(e,t,l)},confirmExtUnInstall(e,t){var l=this.$t("ConfirmUninstallStart")+e.label+" - "+e.installedVersion+this.$t("ConfirmUninstallEnd");this.$q.dialog({title:this.$t("UninstallExtension"),message:l,cancel:!0,persistent:!0}).onOk((()=>{this.unInstallExtension(t.id,e.id)}))},onResize(){this.scrollHeight=H.Z.calculateHeight("scrollArea","navigationToolbar")},install(e,t){this.installPackages(e,t)}}};var dt=l(7743),rt=l(926),ct=l(1221);const ut=(0,T.Z)(ot,[["render",f],["__scopeId","data-v-ce183ab8"]]),gt=ut;N()(ot,"components",{QScrollArea:Ce.Z,QBadge:Q.Z,QBtn:j.Z,QItem:lt.Z,QItemSection:st.Z,QDialog:dt.Z,QSeparator:rt.Z,QSpace:tt.Z,QCard:et.Z,QCheckbox:ct.Z,QCardSection:ye.Z}),N()(ot,"directives",{ClosePopup:nt.Z})}}]);